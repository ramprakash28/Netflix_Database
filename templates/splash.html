<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>NeXFlix</title>
        <!-- Link to Favicon -->
        <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
        <!-- Inline CSS for Splash Page -->
        <style>
            /* Fullscreen video styling */
            body, html {
                margin: 0;
                padding: 0;
                overflow: hidden;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: black;
            }

            video {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            /* Fade-out effect */
            .fade-out {
                animation: fadeOut 1.5s forwards;
            }

            @keyframes fadeOut {
                to {
                    opacity: 0;
                    visibility: hidden;
                }
            }
        </style>
    </head>
    <body>
        <!-- Splash Screen Video -->
        <video id="splashVideo" autoplay muted>
            <source src="{{ url_for('static', filename='videos/Netflix_intro.mp4') }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <script>
            // Check if the splash screen should play
            const video = document.getElementById('splashVideo');

            // When the video ends, redirect to the home page
            video.addEventListener('ended', () => {
                document.body.classList.add('fade-out'); // Add fade-out effect
                setTimeout(() => {
                    // Clear the localStorage key to replay the splash on the next visit
                    localStorage.removeItem('splashShown');
                    window.location.href = '/home'; // Redirect to home page
                }, 1500); // Wait for fade-out effect
            });

            // Store the splash as "shown" in localStorage for the current session only
            localStorage.setItem('splashShown', true);
        </script>
    </body>
</html>
